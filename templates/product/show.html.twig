{# templates/product/show.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}{{ product.name }}{% endblock %}

{% block body %}
    <section class="py-5">
        <div class="container">
            {% if product is not empty %}
                <div class="row">
                    <div class="col-md-6">
                        <img src="{{ product.imageUrl }}" alt="{{ product.name }}" class="img-fluid mb-3">
                    </div>
                    <div class="col-md-6">
                        <h1>{{ product.name }}</h1>
                        <p class="text-muted">Cena: <strong>{{ product.price }} PLN</strong></p>
                        <p>Ocena: {{ product.rating|default(4.5) }}★</p>
                        <p>Opis: {{ product.description }}</p>
                        <button id="add-to-cart-btn" class="btn btn-success">Dodaj do koszyka</button>
                    </div>
                </div>
            {% else %}
                <p>Produkt nie istnieje.</p>
            {% endif %}
        </div>
    </section>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const addToCartBtn = document.getElementById('add-to-cart-btn');
            if (addToCartBtn) {
                addToCartBtn.addEventListener('click', () => {
                    // Tutaj w realnej aplikacji wyślesz żądanie AJAX lub przekierujesz do kontrolera koszyka
                    alert('Produkt dodany do koszyka!');
                });
            }
        });
    </script>
{% endblock %}
